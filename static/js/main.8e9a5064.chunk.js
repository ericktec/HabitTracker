(this.webpackJsonphabittracker=this.webpackJsonphabittracker||[]).push([[0],{43:function(e,t,n){},44:function(e,t,n){},46:function(e,t,n){},56:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(3),c=n.n(r),o=n(22),s=n.n(o),i=(n(43),n(44),n(14)),l=n.n(i),u=n(18),b=n(17),j=n(9),d=n(5),p=n.p+"static/media/LogInSideImage.191c5a3f.jpeg",m=(n(46),n(31)),f=(n(47),n(50),m.a.initializeApp({apiKey:"AIzaSyBsfOthOqglJ2ZESPt8tiZ4CntkuyOu470",authDomain:"habittracker-24367.firebaseapp.com",projectId:"habittracker-24367",storageBucket:"habittracker-24367.appspot.com",messagingSenderId:"537529296068",appId:"1:537529296068:web:4261740ef6bbd3d59d1591"})),h=f.firestore(),O=f.auth(),g=c.a.createContext();function x(){return Object(r.useContext)(g)}function v(e){var t=e.children,n=Object(r.useState)(),c=Object(d.a)(n,2),o=c[0],s=c[1],i=Object(r.useState)(!0),l=Object(d.a)(i,2),u=l[0],b=l[1];Object(r.useEffect)((function(){return O.onAuthStateChanged((function(e){s(e),b(!1)}))}),[]);var j={currentUser:o,signup:function(e,t){O.createUserWithEmailAndPassword(e,t).then((function(e){return e.user.sendEmailVerification()}))},login:function(e,t){return O.signInWithEmailAndPassword(e,t)},logout:function(){return O.signOut()},resetPassword:function(e){return O.sendPasswordResetEmail(e)},updateEmail:function(e){return o.updateEmail(e)},updatePassword:function(e){return o.updatePassword(e)}};return Object(a.jsx)(g.Provider,{value:j,children:!u&&t})}var w=n(7),S=n(11);var k=function(){var e=Object(r.useState)({email:"",password:""}),t=Object(d.a)(e,2),n=t[0],c=t[1],o=Object(w.g)(),s=x().login,i=Object(r.useState)(""),m=Object(d.a)(i,2),f=m[0],h=m[1],O=Object(r.useState)(!1),g=Object(d.a)(O,2),v=g[0],k=g[1],y=function(e){var t=e.target,a=t.name,r=t.value;c(Object(j.a)(Object(j.a)({},n),{},Object(b.a)({},a,r)))};function C(){return(C=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!n.email||!n.password){e.next=13;break}return e.prev=2,k(!0),e.next=6,s(n.email,n.password);case 6:return e.abrupt("return",o.push("/tracking"));case 9:e.prev=9,e.t0=e.catch(2),h(e.t0);case 12:k(!1);case 13:console.log(n);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}return Object(a.jsxs)("div",{className:"logInBody",children:[Object(a.jsx)("img",{src:p,alt:"LogIn"}),Object(a.jsxs)("div",{className:"formContainer",children:[Object(a.jsxs)("form",{className:"logInForm",onSubmit:function(e){return C.apply(this,arguments)},children:[Object(a.jsx)("p",{children:f}),Object(a.jsx)("label",{children:"Correo electronico "}),Object(a.jsx)("input",{name:"email",onChange:y,type:"text"}),Object(a.jsx)("label",{children:"Contrase\xf1a "}),Object(a.jsx)("input",{name:"password",onChange:y,type:"password"}),Object(a.jsx)("button",{disabled:v,type:"submit",className:"LogInButton",children:"Iniciar Sesi\xf3n"}),Object(a.jsx)(S.b,{to:"/signUp",children:Object(a.jsx)("button",{className:"SignUpButton",children:"Registrarse"})}),Object(a.jsx)("br",{}),Object(a.jsx)(S.b,{to:"/forgot-password",className:"forgetPassword",children:"\xbfOlvidaste tu contrase\xf1a?"})]}),Object(a.jsx)("div",{})]})]})},y=n.p+"static/media/SignUp.191c5a3f.jpeg";n(56);var C=function(){var e=Object(r.useState)({email:"",password:"",confirmPassword:""}),t=Object(d.a)(e,2),n=t[0],c=t[1],o=x().signup,s=Object(w.g)(),i=Object(r.useState)(!0),p=Object(d.a)(i,2),m=p[0],f=p[1],h=Object(r.useState)(""),O=Object(d.a)(h,2),g=(O[0],O[1]),v=Object(r.useState)(!1),k=Object(d.a)(v,2),C=k[0],I=k[1],P=function(e){var t=e.target,a=t.name,r=t.value;c(Object(j.a)(Object(j.a)({},n),{},Object(b.a)({},a,r)))};function N(){return(N=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n.password===n.confirmPassword){e.next=5;break}f(!1),e.next=21;break;case 5:if(n.email){e.next=9;break}return e.abrupt("return");case 9:return e.prev=9,g(""),I(!0),e.next=14,o(n.email,n.password);case 14:return e.abrupt("return",s.push("/tracking"));case 17:e.prev=17,e.t0=e.catch(9),console.log(e.t0);case 20:I(!1);case 21:case"end":return e.stop()}}),e,null,[[9,17]])})))).apply(this,arguments)}return Object(a.jsxs)("div",{className:"logInBody",children:[Object(a.jsx)("img",{src:y,alt:"LogIn"}),Object(a.jsx)("div",{className:"formContainer",children:Object(a.jsxs)("form",{className:"logInForm",onSubmit:function(e){return N.apply(this,arguments)},children:[Object(a.jsx)("label",{children:"Correo electronico "}),Object(a.jsx)("input",{type:"text",name:"email",onChange:P,placeholder:"example@mail.com"}),Object(a.jsx)("label",{children:"Contrase\xf1a "}),Object(a.jsx)("input",{type:"password",name:"password",onChange:P,placeholder:"....."}),Object(a.jsx)("input",{className:m?"ConfirmPassword":"ConfirmPasswordWrong",name:"confirmPassword",onChange:P,type:"password",placeholder:"Confirma contrase\xf1a"}),Object(a.jsx)("button",{type:"submit",className:"SignUpButton",children:"Registrarse"}),Object(a.jsx)(S.b,{to:"/",children:Object(a.jsx)("button",{disabled:C,className:"LogInButton",children:"Iniciar Sesi\xf3n"})})]})})]})},I=n(33),P=n(34),N=n(36),B=n(37);var U=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],o=x().currentUser;return Object(r.useEffect)((function(){h.collection("users").doc(o.uid).collection("hobbies").onSnapshot((function(e){e.docChanges().forEach((function(e){"added"===e.type?c((function(t){return[].concat(Object(I.a)(t),[e.doc.data()])})):"removed"===e.type&&c((function(t){return t.filter((function(t){var n=e.doc.data();return n.title!==t.title&&n.date!==t.date}))}))}))}))}),[]),Object(a.jsx)(P.a,{plugins:[N.a,B.a],events:n,initialView:"dayGridMonth",dateClick:function(e){if(window.confirm("Did you completed your habit?")){var t={title:prompt("Which one?"),date:e.dateStr};h.collection("users").doc(o.uid).collection("hobbies").add(t).then((function(e){return console.log("doc written with id ",e.id)})).catch((function(e){console.log(e)}))}}})};var E=function(){var e=x(),t=e.currentUser,n=e.logout,c=Object(w.g)(),o=Object(r.useState)(""),s=Object(d.a)(o,2),i=(s[0],s[1]);function b(){return(b=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n();case 3:return e.abrupt("return",c.push("/"));case 6:e.prev=6,e.t0=e.catch(0),i("Failed to log out");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("h1",{children:["Welcome to your calendar ",t&&t.email]}),Object(a.jsx)(S.b,{to:"/updateProfile",children:Object(a.jsx)("button",{children:"Actualizar perfil"})}),Object(a.jsx)(U,{}),Object(a.jsx)("button",{onClick:function(){return b.apply(this,arguments)},children:"Cerrar sesi\xf3n"})]})},L=n.p+"static/media/LogInSideImage.191c5a3f.jpeg";n(59);function W(){var e=Object(r.useState)({email:""}),t=Object(d.a)(e,2),n=t[0],c=t[1],o=x().resetPassword,s=Object(r.useState)(""),i=Object(d.a)(s,2),p=(i[0],i[1]),m=Object(r.useState)(!1),f=Object(d.a)(m,2),h=f[0],O=f[1],g=Object(r.useState)(""),v=Object(d.a)(g,2),w=v[0],k=v[1];function y(){return(y=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!n.email){e.next=15;break}return e.prev=2,O(!0),console.log("holaaaaa"),e.next=7,o(n.email);case 7:k("Revisa tu email para restablecer tu contrase\xf1a"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),k("Hubo un error al restablecer tu contrase\xf1a"),p(e.t0);case 14:O(!1);case 15:console.log(n);case 16:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}return Object(a.jsxs)("div",{className:"logInBody",children:[Object(a.jsx)("img",{src:L,alt:"LogIn"}),Object(a.jsxs)("div",{className:"formContainer",children:[Object(a.jsxs)("form",{className:"logInForm",onSubmit:function(e){return y.apply(this,arguments)},children:[Object(a.jsx)("label",{children:"Correo electronico "}),Object(a.jsx)("input",{name:"email",onChange:function(e){var t=e.target,a=t.name,r=t.value;c(Object(j.a)(Object(j.a)({},n),{},Object(b.a)({},a,r)))},type:"text"}),Object(a.jsx)("label",{children:w}),Object(a.jsx)("button",{disabled:h,type:"submit",className:"LogInButton",children:"Reiniciar contrase\xf1a"}),Object(a.jsx)("br",{}),Object(a.jsx)(S.b,{to:"/",className:"forgetPassword",children:"Iniciar sesi\xf3n"})]}),Object(a.jsx)("div",{})]})]})}var A=n.p+"static/media/SignUp.191c5a3f.jpeg";n(60);var F=function(){var e=x(),t=e.updatePassword,n=e.updateEmail,c=e.currentUser,o=Object(w.g)(),s=Object(r.useState)(!0),i=Object(d.a)(s,2),l=i[0],u=i[1],p=Object(r.useState)({email:c?c.email:"",password:"",confirmPassword:""}),m=Object(d.a)(p,2),f=m[0],h=m[1],O=Object(r.useState)(""),g=Object(d.a)(O,2),v=(g[0],g[1]),k=Object(r.useState)(!1),y=Object(d.a)(k,2),C=y[0],I=y[1],P=function(e){var t=e.target,n=t.name,a=t.value;h(Object(j.a)(Object(j.a)({},f),{},Object(b.a)({},n,a)))};return Object(a.jsxs)("div",{className:"logInBody",children:[Object(a.jsx)("img",{src:A,alt:"LogIn"}),Object(a.jsx)("div",{className:"formContainer",children:Object(a.jsxs)("form",{className:"logInForm",onSubmit:function(e){if(e.preventDefault(),f.password!==f.confirmPassword)return u(!1);var a=[];c.email!==f.email&&a.push(n(f.email)),f.password&&a.push(t(f.password)),Promise.all(a).then((function(){return o.push("/tracking")})).catch((function(e){return v("Algo salio mal al actualizar tu perfil intentalo de nuevo")})),I(!1)},children:[Object(a.jsx)("label",{children:"Correo electronico "}),Object(a.jsx)("input",{type:"text",name:"email",onChange:P,placeholder:"example@mail.com",defaultValue:c.email}),Object(a.jsx)("label",{children:"Contrase\xf1a "}),Object(a.jsx)("input",{type:"password",name:"password",onChange:P,placeholder:"Dejalo en blanco para mantener la misma contrase\xf1a"}),Object(a.jsx)("input",{className:l?"ConfirmPassword":"ConfirmPasswordWrong",name:"confirmPassword",onChange:P,type:"password",placeholder:"Dejalo en blanco para mantener la misma contrase\xf1a"}),Object(a.jsx)("button",{disabled:C,type:"submit",className:"SignUpButton",children:"Actualizar perfil"}),Object(a.jsx)(S.b,{to:"/tracking",children:Object(a.jsx)("button",{className:"LogInButton",children:"Regresar a tu calendario"})})]})})]})},D=n(35);var R=function(e){var t=e.component,n=Object(D.a)(e,["component"]),r=x().currentUser;return Object(a.jsx)(w.b,Object(j.a)(Object(j.a)({},n),{},{render:function(e){return r?Object(a.jsx)(t,Object(j.a)({},e)):Object(a.jsx)(w.a,{to:"/"})}}))};var T=function(){return Object(a.jsx)(S.a,{basename:"/HabitTracker",children:Object(a.jsx)(v,{children:Object(a.jsxs)(w.d,{children:[Object(a.jsx)(w.b,{exact:!0,path:"/",component:k}),Object(a.jsx)(w.b,{path:"/signUp",component:C}),Object(a.jsx)(w.b,{path:"/updateProfile",component:F}),Object(a.jsx)(R,{path:"/tracking",component:E}),Object(a.jsx)(w.b,{path:"/forgot-password",component:W})]})})})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,62)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))},H=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function J(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(T,{})}),document.getElementById("root")),z(),function(e){if("serviceWorker"in navigator){if(new URL("/HabitTracker",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/HabitTracker","/service-worker.js");H?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):J(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):J(t,e)}))}}()}},[[61,1,2]]]);
//# sourceMappingURL=main.8e9a5064.chunk.js.map